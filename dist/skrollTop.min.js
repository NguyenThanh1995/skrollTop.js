/*!
 * skrollTop.js v0.1
 * (c) 2020 Shinigami
 * Released under the MIT License.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(t):"function"==typeof define&&define.amd?define(e):(t=t||self).skrollTop=e(t)}(this,function(c){"use strict";var l={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}},d=c.requestAnimationFrame||c.webkitRequestAnimationFrame||c.mozRequestAnimationFrame||c.msRequestAnimationFrame||c.oRequestAnimationFrame||function(t){c.setTimeout(t,100/6)},h=document,m=h.documentElement;function p(t,o,r,u){void 0===r&&(r="easeInOutCubic"),y(+o)?o=600:o-=0;var a=c.pageYOffset,e=h.body||h.getElementsByTagName("body")[0],f="now"in c.performance?performance.now():(new Date).getTime(),n=Math.max(e.scrollHeight,e.offsetHeight,m.clientHeight,m.scrollHeight,m.offsetHeight),i=c.innerHeight||m.clientHeight||(e||{clientHeight:0}).clientHeight,s=Math.round(n-t<i?n-i:t);!function t(){var e="now"in c.performance?performance.now():(new Date).getTime(),n=Math.min(1,(e-f)/o),i=(l[r]||l.linear)(n);c.scroll(0,Math.ceil(i*(s-a)+a)),c.pageYOffset!==s?d(t):u&&u()}()}function g(t){var e,n;return t.getClientRects().length?(e=t.getBoundingClientRect(),n=t.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset,width:t.offsetWidth,height:t.offsetHeight}):{top:0,left:0}}function v(t,e,n){t&&t.addEventListener(e,n)}function A(t,e,n){t&&t.removeEventListener(e,n)}function T(t,e,n){if(t)return void 0===n?t.getAttribute(e):void t.setAttribute(e,n)}function b(t){return document.querySelectorAll(t)}function o(t){return"number"==typeof t||"string"==typeof t&&!Number.isNaN(+t)}var y=Number.isNaN;function r(t){this.el="object"==typeof t?t:b(t)[0]}r.prototype={__ATTACK:{},attack:function(t,e,n,i,o){if(this.el){var r=0<arguments.length&&void 0!==t?t:T(this.el,"data-on")?T(this.el,"data-on"):"click";r=r.replace(/\s{2,}/g," ").split(" ");var u=e,a=n,f=i,s=o;r.forEach(function(t){if(!/\S/.exec(t))return!1;this.__ATTACK[t]&&setTimeout(function(){A(this.el,t,this.fn)}.bind({el:this.el,fn:this.__ATTACK[t]})),this.__ATTACK[t]=function(t){if("A"==this.el.tagName&&t.preventDefault(),void 0===u&&(T(this.el,"data-goto")||T(this.el,"href"))&&(u=T(this.el,"data-goto")||T(this.el,"href")),void 0===a&&T(this.el,"data-duration")&&(a=T(this.el,"data-duration")),void 0===f&&T(this.el,"data-type")&&(f=T(this.el,"data-type")),"object"==typeof u?u=g(u).top:y(+u)?u=g(b(u)[0]).top:u-=0,void 0===u)return console.warn("Goto undefiend");p(u,a,f,s)}.bind(this),v(this.el,t,this.__ATTACK[t])}.bind(this))}},dittack:function(t){var e=0<arguments.length&&void 0!==t?t:"click";A(this.el,e,this.__ATTACK[e])}},r.uid=("skroll-"+Math.random()).replace(/\./g,""),r.getOffset=g,r.on=v,r.off=A,r.attr=T,r.query=b,r.isNaN=y,r.isNumeric=o,r.scrollTo=function(t,e,n,i){if(o(t))t-=0;else{if(!((t="string"==typeof t?b(t)[0]:t)instanceof Element))return console.error("skroll<Error>: scrollTo can't find element.");t=g(t).top}p(t,e,n,i)};var u={el:".skrollTop"};function t(){A(c,"load",t),A(h,"DOMContentLoaded",t),r.init()}return r.init=function(t){for(var e in"object"!=typeof t&&(t={}),u)void 0===t[e]&&(t[e]=u[e]);for(var n,i=b(t.el),o=i.length-1;n=i[o--];)n[r.uid]=new r(n),n[r.uid].attack(t.event,t.goto,t.duration,t.type,t.onScroll)},"complete"===h.readyState?r.init():(v(c,"load",t),v(h,"DOMContentLoaded",t)),r});
